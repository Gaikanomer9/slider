groups:
- name: slider-slo-success-calculations
  rules:
  - record: slo:success:ratio
    expr: sum(rate(http_requests{type="good"}[28d])) / sum(rate(http_requests{}[28d]))
    labels:
      id: :web-server:test1
      window: 28d
      target: 0.9901
  - record: slo:success:ratio
    expr: sum(rate(http_requests{type="good"}[7d])) / sum(rate(http_requests{}[7d]))
    labels:
      id: ::test2
      window: 7d
      target: 0.9902
- name: slider-slo-info-metadata-logging
  rules:
  - record: slo:info:target
    expr: vector(0.9901)
    labels:
      id: :web-server:test1
      tenant: ''
      service: web-server
      name: test1
      window: 28d
      target: 0.9901
      budgeting_method: occurrences
  - record: slo:info:target
    expr: vector(0.9902)
    labels:
      id: ::test2
      tenant: ''
      service: ''
      name: test2
      window: 7d
      target: 0.9902
      budgeting_method: occurrences
  interval: 2m30s
